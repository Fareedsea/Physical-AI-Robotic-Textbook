---
sidebar_position: 4
title: Navigation 2 (Nav2)
description: Path planning and obstacle avoidance for humanoids.
---

# 3.4 Navigation 2 (Nav2)

**Nav2** is the professional navigation stack for ROS 2. It enables a robot to move from Point A to Point B safely, avoiding static (walls) and dynamic (people) obstacles.

## 3.4.1 The Behavior Tree

Nav2 uses **Behavior Trees (BT)** to manage logic. Unlike a state machine, a BT is modular and reactive.

- **Sequence:** Run tasks in order (Compute Path -> Follow Path).
- **Fallback:** Try an alternative if failure (Compute Path Fails -> Recovery Behavior -> Spin).

## 3.4.2 Major Components

1.  **Planner:** Calculates the global path (Dijkstra/A*).
2.  **Controller:** Calculates local velocity commands (`cmd_vel`) to follow the global path.
3.  **Costmap:** A grid map where obstacles are marked as "lethal costs".
    - **Global Costmap:** Static map of the building.
    - **Local Costmap:** Rolling window around the robot for dynamic obstacles.

## 3.4.3 Navigating a Humanoid

Navigation for a bipedal robot is harder than a wheeled robot. We must ensure:

1.  **Footstep Planning:** The robot must know where to place its feet.
2.  **Balance:** Fast turns can cause the robot to fall.
3.  **Terrain Analysis:** Identifying stairs vs. flat ground.

Nav2 provides plugins specifically for these challenges, integrating with the **MPPI (Model Predictive Path Integral)** controller for smooth trajectory generation.
